{"version":3,"sources":["../src/resource.js"],"names":["define","$","config","init","addFooter","$resourceBody","contents","find","$cssLink","length","insertBefore","attr","clone","appendTo","on","url","val","window","parent","location","wwwroot","hasClass"],"mappings":"AAqBAA,OAAM,4BAAC,CAAC,QAAD,CAAW,aAAX,CAAD,CAA4B,SAASC,CAAT,CAAYC,CAAZ,CAAoB,CAElD,MAAO,CACHC,IAAI,CAAE,eAAW,CAIb,QAASC,CAAAA,CAAT,EAAqB,IACbC,CAAAA,CAAa,CAAGJ,CAAC,CAAC,iBAAD,CAAD,CAAqBK,QAArB,GAAgCC,IAAhC,CAAqC,MAArC,CADH,CAEbC,CAAQ,CAAGP,CAAC,CAAC,iBAAD,CAAD,CAAqBK,QAArB,GAAgCC,IAAhC,CAAqC,2BAArC,CAFE,CAMjB,GAAyD,CAArD,EAAAF,CAAa,CAACE,IAAd,CAAmB,sBAAnB,EAA2CE,MAA/C,CAA4D,CACxDR,CAAC,CAJM,qEAIN,CAAD,CAAQS,YAAR,CAAqBF,CAArB,EACAP,CAAC,CAJK,sEAIL,CAAD,CAAOS,YAAP,CAAoBF,CAApB,EACAP,CAAC,CAAC,wCAAD,CAAD,CAA4CU,IAA5C,CAAiD,QAAjD,CAA2D,SAA3D,EACAV,CAAC,CAAC,sBAAD,CAAD,CAA0BW,KAA1B,GAAkCC,QAAlC,CAA2CR,CAA3C,EACAJ,CAAC,CAAC,UAAD,CAAD,CAAcW,KAAd,GAAsBC,QAAtB,CAA+BR,CAA/B,EACAJ,CAAC,CAAC,cAAD,CAAD,CAAkBW,KAAlB,GAA0BC,QAA1B,CAAmCR,CAAnC,EACAA,CAAa,CAACE,IAAd,CAAmB,mBAAnB,EAAwCO,EAAxC,CAA2C,QAA3C,CAAqD,UAAW,CAC5D,GAAIC,CAAAA,CAAG,CAAGd,CAAC,CAAC,IAAD,CAAD,CAAQe,GAAR,EAAV,CACA,GAAID,CAAJ,CAAS,CACLE,MAAM,CAACC,MAAP,CAAcC,QAAd,CAAyBjB,CAAM,CAACkB,OAAP,CAAiBL,CAC7C,CACD,QACH,CAND,CAOH,CACJ,CAED,GAAId,CAAC,CAAC,MAAD,CAAD,CAAUoB,QAAV,CAAmB,mBAAnB,CAAJ,CAA6C,CACzCjB,CAAS,GAETH,CAAC,CAAC,iBAAD,CAAD,CAAqBa,EAArB,CAAwB,MAAxB,CAAgC,UAAW,CACvCV,CAAS,EACZ,CAFD,CAGH,CACJ,CAnCE,CAqCV,CAvCK,CAAN","sourcesContent":["// This file is part of Moodle - https://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\n/**\n *\n * @copyright   2021 FCAV\n * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/config'], function($, config) {\n\n    return {\n        init: function() {\n            /**\n             * Adiciona barra de navegação de atividades, botão para o topo e rodapé nas atividades arquivo\n             */\n            function addFooter() {\n                var $resourceBody = $(\"#resourceobject\").contents().find(\"body\");\n                var $cssLink = $(\"#resourceobject\").contents().find(\"head > link:first-of-type\");\n                var font = '<link href=\"/theme/efape_ava/style/fonts.css\" rel=\"stylesheet\">';\n                var css = '<link href=\"/theme/efape_ava/style/footer.css\" rel=\"stylesheet\">';\n\n                if ($resourceBody.find('.activity-navigation').length == 0) {\n                    $(font).insertBefore($cssLink);\n                    $(css).insertBefore($cssLink);\n                    $('.activity-navigation a, #page-footer a').attr('target', '_parent');\n                    $('.activity-navigation').clone().appendTo($resourceBody);\n                    $('.contact').clone().appendTo($resourceBody);\n                    $('#page-footer').clone().appendTo($resourceBody);\n                    $resourceBody.find('#jump-to-activity').on('change', function() {\n                        var url = $(this).val();\n                        if (url) {\n                            window.parent.location = config.wwwroot + url;\n                        }\n                        return false;\n                    });\n                }\n            }\n\n            if ($('body').hasClass('path-mod-resource')) {\n                addFooter();\n\n                $(\"#resourceobject\").on(\"load\", function() {\n                    addFooter();\n                });\n            }\n        }\n    };\n});"],"file":"resource.min.js"}